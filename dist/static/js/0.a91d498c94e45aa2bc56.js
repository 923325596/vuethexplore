webpackJsonp([0],{"/3Ra":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[t.connected?t._e():i("div",[t._v("Please choose the host to connect blockchain!")]),t._v(" "),t.connected&&t.loading?i("div",[t._v("Loading! ")]):t._e(),t._v(" "),t.connected&&!t.loading?i("div",[i("div",{staticClass:"columns"},[i("div",{staticClass:"column control"},[i("page-number-input",{attrs:{placeholder:"from",inputValue:t.from},on:{update:t.updateFrom}})],1),t._v(" "),i("div",{staticClass:"column control"},[i("page-number-input",{attrs:{placeholder:"to",inputValue:t.to},on:{update:t.updateTo}})],1),t._v(" "),i("div",{staticClass:"column control"},[i("page-number-input",{attrs:{placeholder:"limit",inputValue:t.limit},on:{update:t.updateLimit}})],1)]),t._v(" "),i("div",[i("table",{staticClass:"table is-bordered"},[t._m(0),t._v(" "),i("tbody",t._l(t.blocks,function(e){return i("tr",[i("td",[i("router-link",{attrs:{to:{name:"Block",params:{blockNumber:e.number}}}},[t._v(t._s(e.number))])],1),t._v(" "),i("td",[i("strong",[t._v(t._s(e.transactions.length))]),t._v(" txns")]),t._v(" "),i("td",[i("strong",[t._v(t._s(e.uncles.length))]),t._v(" uncles")]),t._v(" "),i("td",[t._v(t._s(e.difficulty))]),t._v(" "),i("td",[t._v(t._s(e.gasLimit))]),t._v(" "),i("td",[t._v(t._s(e.gasUsed))]),t._v(" "),i("td",[t._v(t._s(e.miner))])])}))])])]):t._e()])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Block Number")]),t._v(" "),i("th",[t._v("Transactions")]),t._v(" "),i("th",[t._v("Uncles")]),t._v(" "),i("th",[t._v("Difficulty")]),t._v(" "),i("th",[t._v("Gas Limit")]),t._v(" "),i("th",[t._v("Gas Used")]),t._v(" "),i("th",[t._v("Miner")])])])}],s={render:o,staticRenderFns:n};e.a=s},"2m1i":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{class:t.inputClass,attrs:{type:"text",placeholder:t.inputPlaceholder},domProps:{value:t.inputValue},on:{change:t.update}})},n=[],s={render:o,staticRenderFns:n};e.a=s},Ok2f:function(t,e,i){"use strict";var o=i("u/CU"),n=i("2m1i"),s=i("VU/8"),a=s(o.a,n.a,!1,null,null,null);e.a=a.exports},mlqX:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("tk/L"),n=i("/3Ra"),s=i("VU/8"),a=s(o.a,n.a,!1,null,null,null);e.default=a.exports},"tk/L":function(t,e,i){"use strict";var o=i("Dd8w"),n=i.n(o),s=i("NYxO"),a=i("QmSG"),r=i.n(a),l=i("Ok2f"),c=i("qOVz"),u=i.n(c);e.a={name:"index",components:{PageNumberInput:l.a},data:function(){return{limit:10,from:0,to:0,blocks:[],loading:!1}},computed:n()({},Object(s.d)({blockNumber:function(t){return t.blockchain.blockNumber},web3:function(t){return t.blockchain.web3}}),Object(s.c)(["connected"])),created:function(){!0===u.a.isExist(r.a.blockFromStorageKey)&&(this.from=u.a.getItem(r.a.blockFromStorageKey)),!0===u.a.isExist(r.a.blockToStorageKey)&&(this.to=u.a.getItem(r.a.blockToStorageKey)),!0===u.a.isExist(r.a.blockLimitStorageKey)&&(this.limit=u.a.getItem(r.a.blockLimitStorageKey))},methods:n()({},Object(s.b)(["notify"]),{isValidNumber:function(t){return!!/^[\d]+$/.test(t)},getBlocks:function(t,e){if(t<=e)return void this.notify({text:"From must bigger than to!",class:"is-danger"});if(t-1>=e+this.limit)return void this.notify({text:"From must smaller than to + limit!",class:"is-danger"});this.blocks=[],this.loading=!0;for(var i=0,o=t-e,n=new this.web3.BatchRequest,s=function(t,e){if(t)return void this.notify({text:"Failed to get block! Error: "+t.message,class:"is-danger"});this.blocks.push(e),i>=o&&(this.loading=!1),i+=1},a=t;a>=e;a-=1)n.add(this.web3.eth.getBlock.request(a,s.bind(this)));n.execute(),u.a.setItem(r.a.blockFromStorageKey,t),u.a.setItem(r.a.blockToStorageKey,e)},updateFrom:function(t){this.from=t,u.a.setItem(r.a.blockFromStorageKey,t)},updateTo:function(t){this.to=t,u.a.setItem(r.a.blockToStorageKey,t)},updateLimit:function(t){this.limit=t,u.a.setItem(r.a.blockLimitStorageKey,t)}}),watch:{blockNumber:function(t){var e=this;t!==this.from&&(this.from=t,this.$nextTick(function(){e.to=t-e.limit,e.to+=1}))},from:function(t){!0===this.isValidNumber(t)&&t>this.to&&t-this.to<=this.limit-1?this.getBlocks(this.from,this.to):this.notify({text:"Please enter correct from or to number!",class:"is-danger"})},to:function(t){!0===this.isValidNumber(t)&&t<this.from&&this.from-t<=this.limit-1?this.getBlocks(this.from,this.to):this.notify({text:"Please enter correct from or to number!",class:"is-danger"})},limit:function(t,e){if(!0===this.isValidNumber(t)){if(t>r.a.limitUpperBound||t<r.a.limitLowerBound)return this.notify({text:"Limit must between "+r.a.limitLowerBound+" and "+r.a.limitUpperBound+"!",class:"is-danger"}),void(this.limit=e);if(u.a.setItem(r.a.blockLimitStorageKey,t),this.from-this.to>this.limit)return void(this.to=this.from-t);this.getBlocks(this.from,this.to)}else this.notify({text:"Please enter correct limit number!",class:"is-danger"})}}}},"u/CU":function(t,e,i){"use strict";e.a={name:"page-number-input",props:{inputClass:{type:String,default:function(){return"input"}},inputPlaceholder:{type:String,default:function(){return""}},inputValue:{type:Number,default:function(){return 0}}},methods:{update:function(t){this.$emit("update",parseInt(t.target.value,10))}}}}});
//# sourceMappingURL=0.a91d498c94e45aa2bc56.js.map